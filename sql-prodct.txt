CREATE DATABASE product;

CREATE TABLE CUSTOMER (
	c_id int(20) NOT NULL,
    c_name varchar(60) NOT NULL,
    c_adress varchar(60),
    c_email varchar(60) NOT NULL,
    c_password varchar(60) NOT NULL,
    c_phone varchar(60),
    PRIMARY KEY (c_id)
	);
    
CREATE TABLE E_STORE (
    name varchar(60),
    address varchar(60),
    phone_no varchar(60),
    PRIMARY KEY (name)
);

CREATE TABLE PRODUCT(
    p_id int(9) NOT NULL,
    catagory varchar(60),
    stock varchar(60),
    price int(5),
    size varchar(3),
    color varchar(60),
    PRIMARY KEY (p_id)
)    



CREATE TABLE ORDERS(
    id int NOT NULL AUTO_INCREMENT,
    o_date date,
    o_shppingAddres varchar(250),
    o_state varchar(250),
    o_total FLOAT,
    o_number int NOT NULL,
    cusID int NOT NULL,
    proID int NOT NULL,
    PRIMARY key (id,o_number,cusID,proID)
    FORGEING KEY (cusID) REFERENCES CUSTOMER(id)
)



ALTER TABLE product
ADD p_code int(11),
ADD e_storeName varchar(250),
DROP PRIMARY KEY,
ADD PRIMARY KEY (id,p_code)
ADD FOREIGN key product(e_storeName) REFERENCES e_store(name);
MODIFY COLUMN id int NOT NULL AUTO_INCREMENT;


ALTER TABLE customer
ADD e_storeName varchar(250),
ADD FOREIGN KEY (e_storeName) REFERENCES e_store(name);

